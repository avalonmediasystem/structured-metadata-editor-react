(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e){e.exports=[{type:"div",label:"Faculty/Student Recital",items:[{type:"span",label:"[ambience]",begin:"00:00:10.00",end:"00:00:23.60"},{type:"div",label:"Richard Wagner, Der fliegende Holl&#xE4;nder (excerpts)",items:[{type:"div",label:"Sub-heading Label",items:[{type:"span",label:"&quot;Die Frist ist um&quot;",begin:"00:03:02.11",end:"00:13:48.00"}]}]},{type:"div",label:"Giuseppe Verdi",items:[{type:"span",label:"I vespri siciliani: &quot;Merc&#xE8;, dilette amiche&quot;",begin:"00:33:10.94",end:"00:37:31.09"}]},{type:"div",label:"Richard Strauss, Ariadne auf Naxos (excerpts)",items:[{type:"span",label:"&quot;Lieben, Hassen, Hoffen, Zagen&quot;",begin:"00:37:31.09",end:"00:39:35.59"},{type:"span",label:"&quot;Es gibt ein Reich&quot;",begin:"00:39:35.59",end:"00:46:40.59"}]},{type:"span",label:"Gaetano Donizetti, Lucia di Lammermoor: &quot;Tombe degli avi miei&quot;",begin:"00:46:40.59",end:"00:52:37.25"}]}]},154:function(e,t,n){e.exports=n(411)},163:function(e,t,n){},411:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"toggleHeading",function(){return D}),n.d(a,"toggleTimespan",function(){return j}),n.d(a,"showModal",function(){return S}),n.d(a,"closeModal",function(){return C});var i=n(0),r=n.n(i),l=n(18),o=n.n(l),s=n(8),c=n(9),u=n(12),d=n(10),m=n(13),p=(n(163),function(){return r.a.createElement("section",{className:"waveform-section"},r.a.createElement("div",{className:"waveform-holder"}))}),h=n(11),f="ADD_HEADING",v="BUILD_SM_UI",b="DELETE_ITEM",g="ADD_DROP_TARGETS",O="REMOVE_DROP_TARGETS",y="SET_ACTIVE_DRAG_SOURCE",E="REMOVE_ACTIVE_DRAG_SOURCES",T="HANDLE_LIST_ITEM_DROP",D=function(e){return{type:"TOGGLE_HEADING_FORM",show:e,mode:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ADD",label:arguments.length>2?arguments[2]:void 0}},j=function(e){return{type:"TOGGLE_TIMESPAN_FORM",show:e,mode:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ADD"}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ADD",t=arguments.length>1?arguments[1]:void 0;return{type:"SHOW_MODAL",label:arguments.length>2?arguments[2]:void 0,listItemType:t,mode:e}},C=function(){return{type:"CLOSE_MODAL"}},w=n(412),k=n(419),I=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).handleHeadingClick=function(){n.props.showModal("ADD","div")},n.handleTimeSpanClick=function(){n.props.showModal("ADD","span")},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"button-section"},r.a.createElement("hr",null),r.a.createElement(w.a,null,r.a.createElement(k.a,{onClick:this.handleHeadingClick},"Add a Heading"),r.a.createElement(k.a,{onClick:this.handleTimeSpanClick},"Add a Timespan")))}}]),t}(i.Component),M=Object(h.b)(function(e){return{showForms:e.showForms}},a)(I),F=n(150);function A(e){return{type:v,payload:e}}function H(e){return{type:b,payload:e}}var L=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleBuildItClick=function(){n.props.buildSMUI(n.smData)},n.smData=F,n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"demo-html-structure-tree"},r.a.createElement("hr",null),r.a.createElement("h4",null,"HTML Structure Tree from hardcoded JSON"),r.a.createElement("p",null,r.a.createElement("a",{href:"../data/sample-json3.json",target:"_blank"},"Uses this JSON file")),r.a.createElement("button",{onClick:this.handleBuildItClick,className:"btn btn-default build-structure-button"},"Build It"))}}]),t}(i.Component),x=Object(h.b)(null,function(e){return{buildSMUI:function(t){return e(A(t))}}})(L),_=n(61),N="span",B=n(24),V={beginDrag:function(e){return console.log("props",e),{label:e.item.label}}};var R=function(e){return r.a.createElement("div",{className:"edit-controls-wrapper"},"span"===e.itemType&&r.a.createElement(_.a,{icon:"dot-circle",onClick:e.handleShowDropTargetsClick}),r.a.createElement(_.a,{icon:"pen",onClick:e.handleEditClick}),r.a.createElement(_.a,{icon:"trash",onClick:e.handleDelete}))},G=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).handleDelete=function(){n.props.deleteItem(n.props.item)},n.handleEditClick=function(){var e=n.props.item,t=e.label,a=e.type;n.props.showModal("EDIT",a,t)},n.handleShowDropTargetsClick=function(){var e=n.props,t=e.addDropTargets,a=e.item,i=e.removeActiveDragSources,r=e.removeDropTargets,l=e.setActiveDragSource;r(),!0!==a.active?(i(),t(a),l(a.label)):i()},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item.begin,n=e.item.end,a=e.item.items,i=e.item.label,l=e.item.type,o=e.item.active,s=e.connectDragSource,c=e.connectDropTarget,u=a&&a.length>0?r.a.createElement(Q,{items:a}):null;return s(c(r.a.createElement("li",{className:o?"active":""},r.a.createElement("div",{className:"row-wrapper"},"span"===l&&r.a.createElement("span",{className:"structure-title"},i," (",t," - ",n,")"),"div"===l&&r.a.createElement("div",{className:"structure-title heading"},i),r.a.createElement(R,{handleDelete:this.handleDelete,handleEditClick:this.handleEditClick,itemType:l,handleShowDropTargetsClick:this.handleShowDropTargetsClick})),u)))}}]),t}(i.Component),P={deleteItem:H,toggleHeading:D,toggleTimespan:j,addDropTargets:function(e){return{type:g,payload:e}},removeDropTargets:function(){return{type:O}},removeActiveDragSources:function(){return{type:E}},setActiveDragSource:function(e){return{type:y,label:e}},showModal:S},U=Object(B.DropTarget)(N,{canDrop:function(e,t){return!0},hover:function(e,t,n){t.getItem().label,e.item.label}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),isOverCurrent:t.isOver({shallow:!0}),canDrop:t.canDrop(),itemType:t.getItemType()}})(Object(B.DragSource)(N,V,function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(G)),W=Object(h.b)(function(e){return{smData:e.smData}},P)(U),q={li:{border:"2px #999 dashed",opacity:.3},liHovered:{border:"5px #999 dashed",opacity:.5}};var Z=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOver;return(0,e.connectDropTarget)(r.a.createElement("li",{className:"row-wrapper",style:t?q.liHovered:q.li},"Drop here"))}}]),t}(i.Component),J=Object(B.DropTarget)(N,{hover:function(e,t,n){},drop:function(e,t,n){var a=t.getItem();e.handleListItemDrop(a,e.item)}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),isOverCurrent:t.isOver({shallow:!0}),canDrop:t.canDrop(),itemType:t.getItemType()}})(Z),z=Object(h.b)(null,function(e){return{handleListItemDrop:function(t,n){return e({type:T,dragSource:t,dropTarget:n})}}})(J),Q=function(e){return r.a.createElement("ul",{className:"structure-list"},e.items.map(function(e,t){return e?"optional"===e.type?r.a.createElement(z,{key:t,item:e}):r.a.createElement(W,{key:e.label,item:e}):null}))},$=n(416),K=n(59),X=n(17),Y=n(92),ee=n.n(Y),te=n(151),ne=n.n(te),ae=n(152),ie=n.n(ae),re=function(){function e(){var t=this;Object(s.a)(this,e),this.dndHelper={addSpanAfter:function(e,n){var a=t.getParentDiv(n,e),i=a.items.map(function(e){return e.label}).indexOf(n.label);a.items.splice(i,0,t.createDropZoneObject())},stuckInMiddle:function(e,t,n){return 0!==e&&e!==t.length-1&&"span"===n.items[e-1].type&&"span"===n.items[e+1].type}}}return Object(c.a)(e,[{key:"createDropZoneObject",value:function(){return{type:"optional",label:ie()()}}},{key:"createSpanObject",value:function(e){return{type:"span",label:e.timespanTitle,begin:e.beginTime,end:e.endTime}}},{key:"deleteListItem",value:function(e,t){var n=Object(X.a)(t),a=this.getParentDiv(e,n),i=ee.a.findIndex(a.items,{label:e.label});return a.items.splice(i,1),n}},{key:"determineDropTargets",value:function(e,t){var n=Object(X.a)(t);if("span"===e.type){var a=this.findWrapperSpans(e,this.getItemsOfType("span",n)),i=this.getParentDiv(e,n),r=i?i.items:[],l=r.map(function(e){return e.label}).indexOf(e.label);if(this.dndHelper.stuckInMiddle(l,r,i))return n;if(0!==l&&"div"===r[l-1].type){var o=r[l-1];o.items?o.items.push(this.createDropZoneObject()):o.items=[this.createDropZoneObject()]}if(l!==r.length-1&&"div"===r[l+1].type){var s=r[l+1];s.items?s.items.unshift(this.createDropZoneObject()):s.items=[this.createDropZoneObject()]}var c=this.getParentDiv(i,n),u=c?c.items.map(function(e){return e.label}).indexOf(i.label):null;if(0===l){if(null===u)return n;if(c){if(c.items.splice(u,0,this.createDropZoneObject()),a.before){var d=this.getParentDiv(a.before,n),m=d.items.map(function(e){return e.label}).indexOf(a.before.label);d.items[m+1]&&"optional"!==d.items[m+1].type&&d.items.splice(m+1,0,this.createDropZoneObject())}a.after&&this.dndHelper.addSpanAfter(n,a.after)}}l===r.length-1&&0!==l&&a.after&&this.dndHelper.addSpanAfter(n,a.after)}return n}},{key:"doesTimeOverlap",value:function(e,t){var n=this.toMs,a=!0;for(var i in e=n(e),t){var r=n(t[i].begin),l=n(t[i].end);if(e>=r&&e<l){a=!1;break}}return a}},{key:"doesTimespanOverlap",value:function(e,t,n){var a=this.toMs,i=n.filter(function(t){return a(e)<a(t.begin)});return a(t)>a(i[0].begin)}},{key:"findItemByLabel",value:function(e,t){var n=null;return function t(a){var i=!0,r=!1,l=void 0;try{for(var o,s=a[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;c.label===e&&(n=c),c.items&&t(c.items)}}catch(u){r=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}}(t),n}},{key:"findWrapperSpans",value:function(e,t){var n=this.toMs,a={before:null,after:null},i=t.filter(function(t){return n(e.begin)>=n(t.end)}),r=t.filter(function(t){return n(e.end)<=n(t.begin)});return a.before=i.length>0?i[i.length-1]:null,a.after=r.length>0?r[0]:null,a}},{key:"getItemsOfType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return function t(a){var i=!0,r=!1,l=void 0;try{for(var o,s=a[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;if(c.type===e){var u=Object(K.a)({},c);delete u.items,n.push(u)}c.items&&t(c.items)}}catch(d){r=!0,l=d}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}}(t),n}},{key:"getParentDiv",value:function(e,t){var n=null;return function e(t,a){var i=!0,r=!1,l=void 0;try{for(var o,s=a[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;if(c.items){if(c.items.filter(function(e){return t.label===e.label}).length>0){n=c;break}e(t,c.items)}}}catch(u){r=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}}(e,t),n}},{key:"getValidHeadings",value:function(e,t,n){var a=[],i=function e(t,n){var i=!0,r=!1,l=void 0;try{for(var o,s=n[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;if(c.items)c.items.filter(function(e){return e.label===t.label}).length>0&&a.push(c),e(t,c.items)}}catch(u){r=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}};return t.before||t.after||(a=this.getItemsOfType("div",n)),t.before&&i(t.before,n),t.after&&i(t.after,n),a}},{key:"handleListItemDrop",value:function(e,t,n){var a=Object(X.a)(n),i=this.findItemByLabel(e.label,a),r=this.getParentDiv(i,a),l=r.items.map(function(e){return e.label}).indexOf(i.label);r.items.splice(l,1);var o=this.getParentDiv(t,a),s=o.items.map(function(e){return e.label}).indexOf(t.label);return o.items.splice(s,0,i),this.removeDropTargets(a)}},{key:"insertNewHeader",value:function(e,t){var n=Object(X.a)(t),a=e.headingChildOf,i=this.findItemByLabel(a,n)||n[0];return i&&i.items.unshift({type:"div",label:e.headingTitle,items:[]}),n}},{key:"insertNewTimespan",value:function(e,t){var n=Object(X.a)(t),a=this.findItemByLabel(e.timespanChildOf,n),i=this.createSpanObject(e),r=0;if(a){var l=a.items.filter(function(e){return"span"===e.type}),o=this.findWrapperSpans(i,l);o.before&&(r=ee.a.findIndex(a.items,{label:o.before.label})+1),a.items.splice(r,0,i)}return n}},{key:"removeActiveDragSources",value:function(e){return[function e(t){return t.items?(t.items=t.items.map(function(t){return e(t)}),t):(t.active&&(t.active=!1),t)}(e[0])]}},{key:"removeDropTargets",value:function(e){return[function e(t,n){return t.items?(t.items=t.items.filter(function(e){return e.type!==n}).map(function(t){return e(t,n)}),t):t}(e[0],"optional")]}},{key:"toMs",value:function(e){return ne.a.duration(e).asMilliseconds()}},{key:"validateBeforeEndTimeOrder",value:function(e,t){return!e||!t||!(this.toMs(e)>=this.toMs(t))}}]),e}(),le=n(418),oe=n(413),se=n(417),ce=new re,ue=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={headingTitle:"",headingChildOf:"",childOfOptions:[]},n.handleCancelClick=function(){n.props.toggleHeading()},n.handleChildOfChange=function(e){n.setState({headingChildOf:e.target.value})},n.handleHeadingChange=function(e){n.setState({headingTitle:e.target.value})},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.headingChildOf,i=t.headingTitle;n.props.onSubmit({headingChildOf:a,headingTitle:i,unEditedItem:n.unEditedItem})},n.unEditedItem=null,n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.showForms;"EDIT"===this.props.showForms.mode&&(this.unEditedItem=ce.findItemByLabel(this.props.showForms.label,this.props.smData));var t={childOfOptions:this.getOptions()};"EDIT"===e.mode&&(t=Object(K.a)({},t,this.loadExistingValues())),this.setState(t)}},{key:"formIsValid",value:function(){var e=this.state.headingTitle;return e&&e.length>0}},{key:"getOptions",value:function(){return ce.getItemsOfType("div",this.props.smData).map(function(e){return r.a.createElement("option",{value:e.label,key:e.label},e.label)})}},{key:"getValidationTitleState",value:function(){return this.state.headingTitle.length>2?"success":this.state.headingTitle.length>0?"error":null}},{key:"loadExistingValues",value:function(){var e=this.props,t=e.showForms,n=e.smData,a=ce.findItemByLabel(t.label,n),i=ce.getParentDiv(a,n);return i&&(i=i.label),{headingTitle:t.label,headingChildOf:i||""}}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement($.a.Header,{closeButton:!0},r.a.createElement($.a.Title,null,"ADD"===this.props.showForms.mode?"Add":"Edit"," Heading")),r.a.createElement($.a.Body,null,r.a.createElement(le.a,{controlId:"headingTitle",validationState:this.getValidationTitleState()},r.a.createElement(oe.a,null,"Title"),r.a.createElement(se.a,{type:"text",value:this.state.headingTitle,onChange:this.handleHeadingChange}),r.a.createElement(se.a.Feedback,null)),r.a.createElement(le.a,{controlId:"headingChildOf"},r.a.createElement(oe.a,null,"Child Of"),r.a.createElement(se.a,{componentClass:"select",placeholder:"select",onChange:this.handleChildOfChange,value:this.state.headingChildOf},r.a.createElement("option",{value:""},"Select..."),this.state.childOfOptions))),r.a.createElement($.a.Footer,null,r.a.createElement(k.a,{bsStyle:"primary",type:"submit",disabled:!this.formIsValid()},"Save"),r.a.createElement(k.a,{onClick:this.props.closeModal},"Cancel")))}}]),t}(i.Component),de=Object(h.b)(function(e){return{showForms:e.showForms,smData:e.smData}},a)(ue),me=new re,pe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={message:null},n.submit=function(e){var t=n.props.showForms.mode,a={headingChildOf:e.headingChildOf,headingTitle:e.headingTitle},i="EDIT"===t?me.deleteListItem(e.unEditedItem,n.props.smData):n.props.smData,r=me.insertNewHeader(a,i);n.props.buildSMUI(r),n.props.closeModal()},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(de,{onSubmit:this.submit})}}]),t}(i.Component),he=Object(h.b)(function(e){return{showForms:e.showForms,smData:e.smData}},function(e){return{buildSMUI:function(t){return e(A(t))},closeModal:function(){return e(C())}}})(pe),fe=n(34),ve=n(414),be=n(415),ge=new re,Oe=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).buildHeadingsOptions=function(){var e={begin:n.state.beginTime,end:n.state.endTime},t=ge.findWrapperSpans(e,n.allSpans),a=ge.getValidHeadings(e,t,n.props.smData);n.setState({validHeadings:a})},n.clearHeadingOptions=function(){n.setState({validHeadings:[]})},n.handleInputChange=function(e){n.setState(Object(fe.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.beginTime,i=t.endTime,r=t.timespanChildOf,l=t.timespanTitle;n.props.onSubmit({beginTime:a,endTime:i,timespanChildOf:r,timespanTitle:l})},n.handleTimeChange=function(e){n.setState(Object(fe.a)({},e.target.id,e.target.value),n.updateChildOfOptions)},n.handleCancelClick=function(){console.log("unEditedFormItem",n.unEdiunEditedFormItemtedItem),n.props.onSubmit(n.unEditedFormItem),n.props.closeModal()},n.handleChildOfChange=function(e){n.setState({timespanChildOf:e.target.value})},n.state={beginTime:"",endTime:"",timespanChildOf:"",timespanTitle:"",validHeadings:[]},n.unEditedItem=null,n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){if("EDIT"===this.props.showForms.mode){var e=ge.findItemByLabel(this.props.showForms.label,this.props.smData);this.unEditedFormItem=this.loadExistingValues(),this.setState(this.unEditedFormItem),this.props.deleteItem(e)}this.allSpans=ge.getItemsOfType("span",this.props.smData)}},{key:"formIsValid",value:function(){var e=this.state.timespanTitle.length>0,t=this.state.timespanChildOf.length>0,n=this.validTimespans();return e&&t&&n.valid}},{key:"getValidationBeginState",value:function(){var e=this.state.beginTime;if(!e||-1===e.indexOf(":"))return null;var t=this.validTimeFormat(e),n=ge.doesTimeOverlap(e,this.allSpans);return t&&n?"success":t&&n?null:"error"}},{key:"getValidationEndState",value:function(){var e=this.state,t=e.beginTime,n=e.endTime;if(!n||-1===n.indexOf(":"))return null;var a=this.validTimeFormat(n),i=ge.doesTimeOverlap(n,this.allSpans),r=ge.validateBeforeEndTimeOrder(t,n),l=ge.doesTimespanOverlap(t,n,this.allSpans);return a&&i&&r&&!l?"success":a&&i&&r&&!l?null:"error"}},{key:"getValidationTitleState",value:function(){var e=this.state.timespanTitle;return e.length>2?"success":e.length>0?"error":null}},{key:"loadExistingValues",value:function(){var e=this.props,t=e.showForms,n=e.smData,a=ge.findItemByLabel(t.label,n),i=ge.getParentDiv(a,n);return i&&(i=i.label),{beginTime:a.begin,endTime:a.end,timespanChildOf:i||"",timespanTitle:a.label}}},{key:"updateChildOfOptions",value:function(){this.validTimespans().valid?this.buildHeadingsOptions():this.clearHeadingOptions()}},{key:"validTimespans",value:function(){var e=this.state,t=e.beginTime,n=e.endTime,a=this.allSpans;return this.validTimeFormat(t)?this.validTimeFormat(n)?ge.doesTimeOverlap(t,a)?ge.doesTimeOverlap(n,a)?ge.validateBeforeEndTimeOrder(t,n)?ge.doesTimespanOverlap(t,n,a)?{valid:!1,message:"New timespan region overlaps an existing timespan region"}:{valid:!0}:{valid:!1,message:"Begin time must start before end time"}:{valid:!1,message:"End time overlaps an existing timespan region"}:{valid:!1,message:"Begin time overlaps an existing timespan region"}:{valid:!1,message:"Invalid end time format"}:{valid:!1,message:"Invalid begin time format"}}},{key:"validTimeFormat",value:function(e){return e&&3===e.split(":").length}},{key:"render",value:function(){var e=this.state,t=e.beginTime,n=e.endTime,a=e.timespanChildOf,i=e.timespanTitle;return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement($.a.Header,{closeButton:!0},r.a.createElement($.a.Title,null,"ADD"===this.props.showForms.mode?"Add":"Edit"," Timespan")),r.a.createElement($.a.Body,null,r.a.createElement(le.a,{controlId:"timespanTitle",validationState:this.getValidationTitleState()},r.a.createElement(oe.a,null,"Title"),r.a.createElement(se.a,{type:"text",value:i,onChange:this.handleInputChange}),r.a.createElement(se.a.Feedback,null)),r.a.createElement(ve.a,null,r.a.createElement(be.a,{sm:6},r.a.createElement(le.a,{controlId:"beginTime",validationState:this.getValidationBeginState()},r.a.createElement(oe.a,null,"Begin Time"),r.a.createElement(se.a,{type:"text",value:t,placeholder:"00:00:00",onChange:this.handleTimeChange}),r.a.createElement(se.a.Feedback,null))),r.a.createElement(be.a,{sm:6},r.a.createElement(le.a,{controlId:"endTime",validationState:this.getValidationEndState()},r.a.createElement(oe.a,null,"End Time"),r.a.createElement(se.a,{type:"text",value:n,placeholder:"00:00:00",onChange:this.handleTimeChange}),r.a.createElement(se.a.Feedback,null)))),r.a.createElement(le.a,{controlId:"timespanChildOf"},r.a.createElement(oe.a,null,"Child Of"),r.a.createElement(se.a,{componentClass:"select",placeholder:"select",onChange:this.handleChildOfChange,value:a},r.a.createElement("option",{value:""},"Select..."),this.state.validHeadings.map(function(e){return r.a.createElement("option",{value:e.label,key:e.label},e.label)})))),r.a.createElement($.a.Footer,null,r.a.createElement(k.a,{bsStyle:"primary",type:"submit",disabled:!this.formIsValid()},"Add"),r.a.createElement(k.a,{onClick:this.handleCancelClick},"Cancel")))}}]),t}(i.Component),ye=Oe=Object(h.b)(function(e){return{showForms:e.showForms,smData:e.smData}},function(e){return{closeModal:function(){return e(C())},deleteItem:function(t){return e(H(t))}}})(Oe),Ee=new re,Te=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={message:null},n.submit=function(e){var t=Ee.insertNewTimespan(e,n.props.smData);n.props.buildSMUI(t),n.props.closeModal()},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(ye,{onSubmit:this.submit})}}]),t}(i.Component),De=Object(h.b)(function(e){return{showForms:e.showForms,smData:e.smData}},function(e){return{buildSMUI:function(t){return e(A(t))},closeModal:function(){return e(C())}}})(Te),je=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.showForms.listItemType;return r.a.createElement($.a,{show:this.props.showForms.modal,onHide:this.props.closeModal},"div"===e&&r.a.createElement(he,null),"span"===e&&r.a.createElement(De,null))}}]),t}(i.Component),Se=Object(h.b)(function(e){return{showForms:e.showForms}},a)(je),Ce=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.smData,t=void 0===e?[]:e;return r.a.createElement("section",null,r.a.createElement("hr",null),r.a.createElement("h2",null,"Output"),r.a.createElement(Q,{items:t}),r.a.createElement(Se,null))}}]),t}(i.Component),we=Object(h.b)(function(e){return{smData:e.smData}})(Ce),ke=n(153),Ie=n.n(ke),Me=n(33),Fe=n(63);Me.b.add(Fe.a,Fe.b,Fe.c);var Ae=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(B.DragDropContextProvider,{backend:Ie.a},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Test Structural Metadata Editor"),r.a.createElement(p,null),r.a.createElement(x,null),r.a.createElement(M,null),r.a.createElement(we,null)))}}]),t}(i.Component),He=n(22),Le={heading:!1,timespan:!1,modal:!1},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_HEADING_FORM":return Object.assign({},e,{heading:t.show,mode:t.mode,label:t.label});case"TOGGLE_TIMESPAN_FORM":return Object.assign({},e,{timespan:t.show,mode:t.mode});case"SHOW_MODAL":return Object.assign({},e,{modal:!0,mode:t.mode,listItemType:t.listItemType,label:t.label});case"CLOSE_MODAL":return Object.assign({},e,{modal:!1});default:return e}},_e=new re,Ne=[],Be=null,Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return(Be=Object(X.a)(e)).push(t.payload),Be;case v:return t.payload;case b:return _e.deleteListItem(t.payload,Object(X.a)(e));case g:return _e.determineDropTargets(t.payload,Object(X.a)(e));case O:return _e.removeDropTargets(Object(X.a)(e));case y:return Be=Object(X.a)(e),_e.findItemByLabel(t.label,Be).active=!0,Be;case E:return _e.removeActiveDragSources(e);case T:return _e.handleListItemDrop(t.dragSource,t.dropTarget,e);default:return e}},Re=Object(He.combineReducers)({showForms:xe,smData:Ve}),Ge=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Pe(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ue=Object(He.createStore)(Re);o.a.render(r.a.createElement(h.a,{store:Ue},r.a.createElement(Ae,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/structured-metadata-editor-react",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/structured-metadata-editor-react","/service-worker.js");Ge?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Pe(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Pe(e)})}}()}},[[154,2,1]]]);
//# sourceMappingURL=main.3c74b931.chunk.js.map